
@{
    ViewBag.Title = "DailyReportEntry";
    Layout = "~/Views/Shared/_DRMSLayout.cshtml";
}

<canvas class='connecting-dots' id="experiment"></canvas>
<div class="container">
    <div class="container">
        <div class="wrapper">
            <form action="" method="post" name="ReportEntry_Form" class="form-signin">
                <h3 class="form-signin-heading">WEB日報管理システム</h3>

                <h4 class="form-signin-heading">日報入力</h4>
                <hr class="colorgraph"><br>

                <label class="required" for="txtmember_name">社員名</label> <br>
                <label class="required" for="txtdate">日付</label> <br>
                <input type="date" id="txtdate" class="form-control" name="date" placeholder="2021/11/16" required="" /><br>

                <label class="required" for="txtpj_name">工事名</label> <br>
                <input type="text" id="pjname" class="form-control" name="pjname" placeholder="apple" required="" /><br>

                <label class="required" for="txtatt_time">出勤時間</label> <br>
                <input type="text" id="att_start_date" class="form-control" name="starttime" placeholder="12:30" required="" /><br>

                <label class="required" for="txtleave_time">退勤時間</label> <br>
                <input type="text" id="att_end_date" class="form-control" name="endtime" placeholder="12:30" required="" /><br>

                <button id="btnSave" class="btn btn-lg btn-outline-secondary btn-block" name="Submit" value="submit" type="Submit">
                    送信
                </button>
                <h5 class="text-right pt-5">山本建設株式会社</h5>
            </form>
        </div>
    </div>
</div>

@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function (e) {
           
            $("#txtdate").focus();

            $("#btnSave").click(function (e) {
                e.preventDefault();
                var obj = {
                    member_id: "a01",
                    work_date: $("#txtdate").val(),
                    project_id: $("#pjname").val(),
                    Attendance_time: $("#att_start_date").val(),
                    Leave_time: $("#att_end_date").val(),
                };
                var response = CalltoApiController('@Url.Action("DailyReportInsert", "api/DailyReportAPI")', obj);
               alert(response);
            })
        });

        
    </script>
}